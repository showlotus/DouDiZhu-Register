var q=Object.defineProperty;var K=(e,n,t)=>n in e?q(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var o=(e,n,t)=>(K(e,typeof n!="symbol"?n+"":n,t),t),x=(e,n,t)=>{if(!n.has(e))throw TypeError("Cannot "+t)};var c=(e,n,t)=>(x(e,n,"read from private field"),t?t.call(e):n.get(e)),b=(e,n,t)=>{if(n.has(e))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(e):n.set(e,t)},g=(e,n,t,s)=>(x(e,n,"write to private field"),s?s.call(e,t):n.set(e,t),t);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();var f,d,u;class D{constructor(...n){b(this,f,void 0);b(this,d,void 0);b(this,u,void 0);g(this,f,n),g(this,d,new Map),g(this,u,[]),this.init(),this.notify()}init(){const n=[["JOKER",1],["joker",1],["2",4],["A",4],["K",4],["Q",4],["J",4],["10",4],["9",4],["8",4],["7",4],["6",4],["5",4],["4",4],["3",4]],t=new Map;n.forEach(([s,i])=>{t.set(s,i)}),g(this,d,t)}update(n,t){Object.keys(n).forEach(i=>{n[i]=Math.min(n[i],c(this,d).get(i)),c(this,d).set(i,c(this,d).get(i)-n[i])}),c(this,u).push([n,t]),this.notify()}notify(){c(this,f).forEach(n=>n.render({data:c(this,d),history:c(this,u)}))}revocation(){const[n,t]=c(this,u).pop()||[];return!n||!Object.keys(n).length?"":(Object.keys(n).forEach(i=>{c(this,d).set(i,c(this,d).get(i)+n[i])}),this.notify(),t)}getData(){return c(this,d)}getRecords(){return c(this,u)}getLastestRecord(){return c(this,u).length?c(this,u)[c(this,u).length-1]:null}reset(){this.init(),g(this,u,[]),this.notify()}}f=new WeakMap,d=new WeakMap,u=new WeakMap;class m{constructor(){o(this,"el");this.el=document.createElement("div")}insert(){document.querySelector("#app").appendChild(this.el)}render(n){}}const J="data:image/svg+xml,%3csvg%20t='1709904722459'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='8032'%20width='128'%20height='128'%3e%3cpath%20d='M752.4%20114.6c-8.4%202.6-23.2%2015.6-26.2%2023l-2.4%205.6-40.4%202.4c-22.2%201.4-50.2%203.8-62.4%205.4-154%2020.6-253.6%2084-289.8%20184.6-3.8%2010.8-11.2%2043-11.2%2049.2%200%200-16%200.2-35.6%200.4-25.2%200-40.4%201-53.2%203.6-51.8%2010.2-89.8%2029.4-122.4%2062-26.6%2026.6-44.4%2056.8-54.2%2092.2-5.2%2018.2-6%2019.6-12.8%2023.2C27%20573.6%2016%20591.6%2016%20608c0%2024.8%2023.2%2048%2048%2048%2018.4%200%2040.4-16%2045.6-33.2%204.8-16.4%200.8-34.6-10-46.2-4.2-4.4-4.2-4.6-0.4-8.8%2011-12.2%2037-21.4%2064.8-23.2%2030.6-1.8%2048.8%205.2%2061.4%2024.2%208.6%2012.6%2012.4%2026.2%2014%2048.4%201.6%2023.4-0.6%2040.6-5%2042-21.6%206.6-39.4%2021.4-49.2%2041-12.4%2024.8-12.4%2024.8%2011.8%20106.8%2011.6%2039.6%2023.6%2079.4%2026.2%2088.4l5%2016.6H795.6l2.2-6.4c1-3.6%2013-43%2026.4-87.6%2027.6-92.4%2027.4-91.2%2014.8-117.4-9.8-19.8-27.8-34.8-49.4-41.4-4.6-1.4-6.4-15.4-5-39%202.2-36.8%2012.8-58.4%2034.4-69.2%2011.2-5.6%2013.4-6%2035-5.8%2016%200%2026.6%201%2035%203.6%2014.4%204.2%2029.2%2012%2035.2%2018.4l4.2%204.6-6%207.6c-15.6%2020-13.8%2043.2%204.6%2061.6%2020.2%2020.4%2045.8%2020.4%2066%200%2014-14%2018.2-29.2%2012.6-47.2-3-10-13.8-22.8-23.8-28-5.6-2.8-7.8-5.2-7.8-8.4%200-8.6-8.6-38.4-15.8-55.6-20.4-47-59.6-84.2-107.8-101.8-31.2-11.4-53.2-14.8-95.4-14.6-34.8%200-39.8%200.4-58%205.2-11%203-27.6%209-36.6%2013.4-9.2%204.4-17.2%208-17.6%208-1.8%200-0.6-16.4%202.2-33.2%209.6-54.6%2038-108%2082.8-155.2l19.4-20.2%206.6%202.2c16.6%205.8%2033.4%201.4%2047.2-12.6%2019.6-19.4%2020.2-44.4%201.6-65-12.8-14.4-31.8-19.4-50.2-13.4zM705.8%20198c-32.2%2035.6-50%2060.6-66.2%2092.6C620%20330%20608%20378%20608%20418.2c0%2017.4-0.4%2019.8-4%2021.8-6%203.2-31.2%2033-43%2051-13.4%2020.4-29.4%2052.4-39%2077.6l-7.4%2019.6-5.4-17.4c-13-41.2-29-72.4-57.2-111.4-4.6-6.6-3.6-49.8%201.8-70.4%2018-69%2078.8-127.8%20178.2-172.2%2020-8.8%2081-32.4%2084.8-32.8%200.8%200-4.2%206.4-11%2014z%20m77.2%20220c54%206.2%2096.4%2026.4%20122.8%2058.4%209.4%2011.4%2026%2041.6%2029.2%2053.2%201.4%204.6%201.2%204.6-9.4-1.4-19-10.6-35.8-14.6-65.8-15.6-21.8-0.8-29.4-0.4-38.8%202.4-32%209.2-51.4%2028.6-62.6%2062.6-4.2%2013.2-5.2%2020-6%2047.8-0.8%2028.4-1.2%2032.6-4.2%2032.6-6.4%200-27.4%2011.6-35.6%2019.8L704%20686l-8.4-8.4c-4.8-4.4-14.4-11-21.6-14.4-12-5.8-14.6-6.2-34-6.2-18.8%200-22.2%200.6-33%205.6-6.6%203-16.2%209.8-21.4%2014.8l-9.4%209.2-10.2-9.2c-9-8-19.8-14.4-30.4-18-4.8-1.6-4.6-5.4%202.4-32.2%2016-62.4%2043.4-115.8%2077.8-151.8%2044.6-46.6%2098.4-65.2%20167.2-57.4zM277.2%20693.6c9.2%204.8%2017%2012.8%2021.8%2022%202.4%204.8%205.4%2028.2%2011.2%2085%204.2%2043.2%207.8%2078.6%207.8%2078.8%200%200.4-14.8%200.6-32.6%200.6h-32.8l-22.2-74c-22-73.6-22.2-74-19.4-83%208.6-29%2040-42.8%2066.2-29.4z%20m128%200c9%204.6%2016.8%2012.6%2022%2022.4%203.4%206.4%203.8%2013.4%204.4%2085.6l0.6%2078.4-40.6-0.4-40.6-0.6-7.4-73c-6.8-67-7.2-73.8-4.6-83%208.2-28.6%2040-42.8%2066.2-29.4z%20m128%200c9%204.6%2016.8%2012.6%2022%2022.4%203.4%206.4%203.8%2013.4%204.4%2085.4l0.6%2078.6H464v-73.6c0-80%200.6-86%2011-99.6%2013.6-17.8%2038.4-23.4%2058.2-13.2z%20m128%200c12.6%206.6%2022.2%2018.8%2025.6%2033%200.6%203-0.6%2023.6-2.8%2045.6-2.4%2022.2-3.6%2040.8-3%2041.4%201.4%201.4%2029.4%204.6%2030.6%203.4%200.4-0.4%202.8-21.8%205.4-47.6%205-50.2%206.8-57%2018.4-67.6%2010-9.4%2018.6-12.6%2032.6-12.6%209.4%200%2015.2%201.2%2021.2%204.2%2014%207.4%2024.8%2023.2%2025.2%2037.2%200%203.6-9.6%2038.6-21.4%2077.8L771.4%20880H706l1.4-15c1.4-17%202.4-16-17.8-17.8l-13.2-1.2-1.4%2017-1.4%2017H592v-73.6c0-80%200.6-86%2011-99.6%2013.6-17.8%2038.4-23.4%2058.2-13.2z'%20p-id='8033'%20fill='%23ca3142'%3e%3c/path%3e%3c/svg%3e",R="data:image/svg+xml,%3csvg%20t='1709904722459'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='8032'%20width='128'%20height='128'%3e%3cpath%20d='M752.4%20114.6c-8.4%202.6-23.2%2015.6-26.2%2023l-2.4%205.6-40.4%202.4c-22.2%201.4-50.2%203.8-62.4%205.4-154%2020.6-253.6%2084-289.8%20184.6-3.8%2010.8-11.2%2043-11.2%2049.2%200%200-16%200.2-35.6%200.4-25.2%200-40.4%201-53.2%203.6-51.8%2010.2-89.8%2029.4-122.4%2062-26.6%2026.6-44.4%2056.8-54.2%2092.2-5.2%2018.2-6%2019.6-12.8%2023.2C27%20573.6%2016%20591.6%2016%20608c0%2024.8%2023.2%2048%2048%2048%2018.4%200%2040.4-16%2045.6-33.2%204.8-16.4%200.8-34.6-10-46.2-4.2-4.4-4.2-4.6-0.4-8.8%2011-12.2%2037-21.4%2064.8-23.2%2030.6-1.8%2048.8%205.2%2061.4%2024.2%208.6%2012.6%2012.4%2026.2%2014%2048.4%201.6%2023.4-0.6%2040.6-5%2042-21.6%206.6-39.4%2021.4-49.2%2041-12.4%2024.8-12.4%2024.8%2011.8%20106.8%2011.6%2039.6%2023.6%2079.4%2026.2%2088.4l5%2016.6H795.6l2.2-6.4c1-3.6%2013-43%2026.4-87.6%2027.6-92.4%2027.4-91.2%2014.8-117.4-9.8-19.8-27.8-34.8-49.4-41.4-4.6-1.4-6.4-15.4-5-39%202.2-36.8%2012.8-58.4%2034.4-69.2%2011.2-5.6%2013.4-6%2035-5.8%2016%200%2026.6%201%2035%203.6%2014.4%204.2%2029.2%2012%2035.2%2018.4l4.2%204.6-6%207.6c-15.6%2020-13.8%2043.2%204.6%2061.6%2020.2%2020.4%2045.8%2020.4%2066%200%2014-14%2018.2-29.2%2012.6-47.2-3-10-13.8-22.8-23.8-28-5.6-2.8-7.8-5.2-7.8-8.4%200-8.6-8.6-38.4-15.8-55.6-20.4-47-59.6-84.2-107.8-101.8-31.2-11.4-53.2-14.8-95.4-14.6-34.8%200-39.8%200.4-58%205.2-11%203-27.6%209-36.6%2013.4-9.2%204.4-17.2%208-17.6%208-1.8%200-0.6-16.4%202.2-33.2%209.6-54.6%2038-108%2082.8-155.2l19.4-20.2%206.6%202.2c16.6%205.8%2033.4%201.4%2047.2-12.6%2019.6-19.4%2020.2-44.4%201.6-65-12.8-14.4-31.8-19.4-50.2-13.4zM705.8%20198c-32.2%2035.6-50%2060.6-66.2%2092.6C620%20330%20608%20378%20608%20418.2c0%2017.4-0.4%2019.8-4%2021.8-6%203.2-31.2%2033-43%2051-13.4%2020.4-29.4%2052.4-39%2077.6l-7.4%2019.6-5.4-17.4c-13-41.2-29-72.4-57.2-111.4-4.6-6.6-3.6-49.8%201.8-70.4%2018-69%2078.8-127.8%20178.2-172.2%2020-8.8%2081-32.4%2084.8-32.8%200.8%200-4.2%206.4-11%2014z%20m77.2%20220c54%206.2%2096.4%2026.4%20122.8%2058.4%209.4%2011.4%2026%2041.6%2029.2%2053.2%201.4%204.6%201.2%204.6-9.4-1.4-19-10.6-35.8-14.6-65.8-15.6-21.8-0.8-29.4-0.4-38.8%202.4-32%209.2-51.4%2028.6-62.6%2062.6-4.2%2013.2-5.2%2020-6%2047.8-0.8%2028.4-1.2%2032.6-4.2%2032.6-6.4%200-27.4%2011.6-35.6%2019.8L704%20686l-8.4-8.4c-4.8-4.4-14.4-11-21.6-14.4-12-5.8-14.6-6.2-34-6.2-18.8%200-22.2%200.6-33%205.6-6.6%203-16.2%209.8-21.4%2014.8l-9.4%209.2-10.2-9.2c-9-8-19.8-14.4-30.4-18-4.8-1.6-4.6-5.4%202.4-32.2%2016-62.4%2043.4-115.8%2077.8-151.8%2044.6-46.6%2098.4-65.2%20167.2-57.4zM277.2%20693.6c9.2%204.8%2017%2012.8%2021.8%2022%202.4%204.8%205.4%2028.2%2011.2%2085%204.2%2043.2%207.8%2078.6%207.8%2078.8%200%200.4-14.8%200.6-32.6%200.6h-32.8l-22.2-74c-22-73.6-22.2-74-19.4-83%208.6-29%2040-42.8%2066.2-29.4z%20m128%200c9%204.6%2016.8%2012.6%2022%2022.4%203.4%206.4%203.8%2013.4%204.4%2085.6l0.6%2078.4-40.6-0.4-40.6-0.6-7.4-73c-6.8-67-7.2-73.8-4.6-83%208.2-28.6%2040-42.8%2066.2-29.4z%20m128%200c9%204.6%2016.8%2012.6%2022%2022.4%203.4%206.4%203.8%2013.4%204.4%2085.4l0.6%2078.6H464v-73.6c0-80%200.6-86%2011-99.6%2013.6-17.8%2038.4-23.4%2058.2-13.2z%20m128%200c12.6%206.6%2022.2%2018.8%2025.6%2033%200.6%203-0.6%2023.6-2.8%2045.6-2.4%2022.2-3.6%2040.8-3%2041.4%201.4%201.4%2029.4%204.6%2030.6%203.4%200.4-0.4%202.8-21.8%205.4-47.6%205-50.2%206.8-57%2018.4-67.6%2010-9.4%2018.6-12.6%2032.6-12.6%209.4%200%2015.2%201.2%2021.2%204.2%2014%207.4%2024.8%2023.2%2025.2%2037.2%200%203.6-9.6%2038.6-21.4%2077.8L771.4%20880H706l1.4-15c1.4-17%202.4-16-17.8-17.8l-13.2-1.2-1.4%2017-1.4%2017H592v-73.6c0-80%200.6-86%2011-99.6%2013.6-17.8%2038.4-23.4%2058.2-13.2z'%20p-id='8033'%20fill='%232c2c2c'%3e%3c/path%3e%3c/svg%3e";class M extends m{constructor(){super(),this.init()}init(){this.el.className="card-wrap",this.insert()}renderCard(n,t){return n.toLocaleLowerCase()==="joker"?this.renderJoker(n,t):this.renderNums(n,t)}renderJoker(n,t){return`
      <div class="card-item joker">
        <div class="card-text"><img src=${n==="JOKER"?J:R} alt="${n}" /></div>
        <span class="card-num">${t}</span>
      </div>
    `}renderNums(n,t){return n==="10"?`
        <div class="card-item double-char">
          <div class="card-text"><span>${n}</span></div>
          <span class="card-num">${t}</span>
        </div>
      `:`
        <div class="card-item">
          <div class="card-text">${n}</div>
          <span class="card-num">${t}</span>
        </div>
      `}renderElement(n){return[...n.entries()].map(([t,s])=>this.renderCard(t,s)).join(`
`)}render(n){const t=n.data;this.el.innerHTML=this.renderElement(t)}}class $ extends m{constructor(){super()}render(){}}const h=["3","4","5","6","7","8","9","10","J","Q","K","A"];function w(e,n){const[t,s]=e.split("-"),i=h.indexOf(t),r=h.lastIndexOf(s),a={};for(let l=i;l<=r;l++){const A=h[l];a[A]=n}return a}const v={single:{validate(e){return/^([2-9]|10|J|Q|K|A|<|>|<>|><)$/i.test(e)},generate(e){return e==="<"?{joker:1}:e===">"?{JOKER:1}:e==="<>"||e==="><"?{JOKER:1,joker:1}:{[e]:1}}},double:{validate(e){return/^D([2-9]|10|J|Q|K|A)$/i.test(e)},generate(e){return{[e.slice(1)]:2}}},sequence:{validate(e){return/^([3-9]|10|J|Q|K|A)-([3-9]|10|J|Q|K|A)$/i.test(e)},generate(e){return w(e,1)}},doubleSequence:{validate(e){return/^D([3-9]|10|J|Q|K|A)-D([3-9]|10|J|Q|K|A)$/i.test(e)},generate(e){return e=e.replace(/D/g,""),w(e,2)}},triplet:{validate(e){return/^T([2-9]|10|J|Q|K|A)$/i.test(e)},generate(e){return{[e.slice(1)]:3}}},tripletSequence:{validate(e){return/^T([3-9]|10|J|Q|K|A)-T([3-9]|10|J|Q|K|A)$/i.test(e)},generate(e){return e=e.replace(/T/g,""),w(e,3)}},quadriplet:{validate(e){return/^F([2-9]|10|J|Q|K|A)$/i.test(e)},generate(e){return{[e.slice(1)]:4}}}};function O(e,n){const t={};for(const s in e)t[s]=s in n?e[s]+n[s]:e[s];for(const s in n)s in e||(t[s]=n[s]);return t}function p(e){return h.indexOf(e)}function y(e,n,t){const s=h.concat("2");for(let i=0;i<s.length;i++){const r=s[(i+n)%s.length];if(t.get(r)>=e)return r}return""}function E(e,n,t,s){const i=p(n);let r=i;for(let a=i;a<h.length;a++){const l=h[a];if(r-i+1>=e||s.get(l)<t)break;r=a}return r-i+1>=e?h[r]:""}function Q(e){return e&&v.double.validate(e)?p(e.slice(1))+1:null}function z(e){return e&&v.triplet.validate(e)?p(e.slice(1))+1:null}function H(e){return e&&v.quadriplet.validate(e)?p(e.slice(1))+1:null}function V(e){if(e&&v.sequence.validate(e)){const[n,t]=e.split("-").map(s=>p(s));return t-n+1}return null}function P(e){if(e&&v.doubleSequence.validate(e)){const[n,t]=e.replace(/D/g,"").split("-").map(s=>p(s));return t-n+1}return null}function N(e){if(e&&v.tripletSequence.validate(e)){const[n,t]=e.replace(/T/g,"").split("-").map(s=>p(s));return t-n+1}return null}const C=/(^|,)D$/,S=/(^|,)([3-9]|10|J|Q|K|A)-$/,I=/(^|,)D([3-9]|10|J|Q|K|A)-$/,B=/(^|,)T$/,L=/(^|,)T([3-9]|10|J|Q|K|A)-$/,F=/(^|,)F$/;function k(e,n){var i;const t=n.getData(),s=(i=n.getLastestRecord())==null?void 0:i[1];if(C.test(e)){const r=Q(s)||0;return e+y(2,r,t)}else if(S.test(e)){const r=e.match(S)[2],a=V(s)||5;return e+E(a,r,1,t)}else if(I.test(e)){const r=e.match(I)[2],a=P(s)||3,l=E(a,r,2,t);if(l)return e+"D"+l}else if(B.test(e)){const r=z(s)||0;return e+y(3,r,t)}else if(L.test(e)){const r=e.match(L)[2],a=N(s)||2,l=E(a,r,3,t);if(l)return e+"T"+l}else if(F.test(e)){const r=H(s)||0;return e+y(4,r,t)}return""}const T=()=>/Mobi|Android|iPhone|iPad/i.test(navigator.userAgent)||"ontouchstart"in document.documentElement;class G extends m{constructor(t){super();o(this,"storeInstance");o(this,"suggestionText");o(this,"maxlength");o(this,"timer");o(this,"handleReset",()=>{this.storeInstance.reset(),this.updateValue(""),this.dispatchEvent(new Event("input"))});o(this,"handleRevocation",()=>{if(this.getValue()){this.updateValue("");return}const t=this.storeInstance.revocation();this.showSuggestion(t)});o(this,"handleInputEvent",t=>{const s=t.target;this.updateValue(s.value.toUpperCase()),this.genSuggestion(s.value),this.handleInputting()});o(this,"handleKeydownEvent",t=>{if(["ArrowUp","ArrowDown"].includes(t.key))this.suggestionText&&this.updateValue(this.suggestionText),t.preventDefault();else if(t.key==="Enter"){const s=t.target;if(!s.value)return;this.parseToken(s.value),this.updateValue("")}else t.key===" "&&t.preventDefault()});this.storeInstance=t,this.suggestionText="",this.maxlength=15,this.timer=null,this.init()}init(){var t;this.el.className="input-wrap",this.el.innerHTML=`
      <div class="input-container" data-prev-command="" data-value=" ">
        <input type="text" class="inner-input" placeholder="" disabled />
        <input type="text" class="outter-input" value="" />
      </div>
    `,T()?(this.el.classList.add("is-mobile"),(t=this.el.querySelector(".outter-input"))==null||t.setAttribute("readonly","readonly")):this.el.innerHTML+=`
        <button class="cancel-btn">撤销</button>
        <button class="reset-btn">重置</button>
      `,this.insert(),this.render()}getValue(){return this.querySelector(".outter-input").value}updateValue(t){var i;t=t.slice(0,this.maxlength);const s=this.querySelector(".outter-input");s.value=t,(i=this.querySelector(".input-container"))==null||i.setAttribute("data-value",t)}dispatchEvent(t){this.querySelector(".outter-input").dispatchEvent(t)}initOutterInput(){const t=this.querySelector(".outter-input");t==null||t.addEventListener("input",this.handleInputEvent),t==null||t.addEventListener("keydown",this.handleKeydownEvent)}initCancelBtn(){var t;(t=this.querySelector(".cancel-btn"))==null||t.addEventListener("click",this.handleRevocation)}initResetBtn(){var t;(t=this.querySelector(".reset-btn"))==null||t.addEventListener("click",this.handleReset)}handleInputting(){var t;this.timer&&clearTimeout(this.timer),(t=this.querySelector(".input-container"))==null||t.classList.add("inputting"),this.timer=setTimeout(()=>{var s;(s=this.querySelector(".input-container"))==null||s.classList.remove("inputting")},300)}parseToken(t){t=this.formatToken(t);const s=t.split(",");let i={};s.forEach(r=>{for(const{validate:a,generate:l}of Object.values(v))a(r)&&(i=O(i,l(r)))}),this.storeInstance.update(i,t),this.updatePrevCommand(),this.showSuggestion("")}formatToken(t){return t.replace(/[^0123456789JQKA,\-DTF><]/g,"")}genSuggestion(t){if(t!==this.formatToken(t)){this.showSuggestion("");return}const s=k(t,this.storeInstance);this.showSuggestion(s)}showSuggestion(t){this.suggestionText=t,this.querySelector(".inner-input").setAttribute("placeholder",t)}updatePrevCommand(){var s;const t=this.storeInstance.getLastestRecord();(s=this.querySelector(".input-container"))==null||s.setAttribute("data-prev-command",`上一次输入：${(t==null?void 0:t[1])||""}`)}querySelector(t){return this.el.querySelector(t)}render(){this.initOutterInput(),this.initCancelBtn(),this.initResetBtn()}}class X extends m{constructor(t){super();o(this,"inputInstance");this.el.className="keyboard-wrap",this.inputInstance=t,this.init()}init(){this.el.innerHTML=`
      <!-- line 1 -->
      <div class="row row-1">
        <div class="btn btn-default btn-special" data-value="D">D</div>
        <div class="btn btn-default" data-value="A">A</div>
        <div class="btn btn-default" data-value="2">2</div>
        <div class="btn btn-default" data-value="3">3</div>
        <div class="btn btn-default btn-special btn-word" type="reset">重置</div>
      </div>

      <!-- line 2 -->
      <div class="row row-1">
        <div class="btn btn-default btn-special" data-value="T" >T</div>
        <div class="btn btn-default" data-value="4">4</div>
        <div class="btn btn-default" data-value="5">5</div>
        <div class="btn btn-default" data-value="6">6</div>
        <div class="btn btn-default btn-special btn-word" type="revocation">撤销</div>
      </div>

      <!-- line 3 -->
      <div class="row row-1">
        <div class="btn btn-default btn-special" data-value="F">F</div>
        <div class="btn btn-default" data-value="7">7</div>
        <div class="btn btn-default" data-value="8">8</div>
        <div class="btn btn-default" data-value="9">9</div>
        <div class="btn btn-default btn-special" type="backspace">
          <svg
            style="width: 60%; height: 60%"
            t="1710227809603"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="1456"
            width="128"
            height="128"
          >
            <path
              d="M856.2 890.5H402.4c-55.3-0.1-108-23.4-145.4-64.2L23 571c-30.7-33.4-30.7-84.8 0-118.2l233.9-255.1c37.3-40.8 90.1-64.1 145.4-64.2h453.8c92.7 0.2 167.8 75.4 167.8 168.1v420.7c0.1 92.8-75 168-167.7 168.2zM402.6 184.9c-41 0-80 17.2-107.8 47.4L60.9 487.6c-12.8 13.7-12.8 34.9 0 48.6l233.7 255.3c27.7 30.2 66.8 47.4 107.8 47.4h454c64.4-0.1 116.5-52.4 116.5-116.8V301.6c0-64.4-52.2-116.6-116.5-116.8H402.6z m323.7 471c-6.8 0-13.4-2.7-18.2-7.5l-100-100.2L508 648.4c-9.9 10.1-26.1 10.2-36.2 0.3-10.1-9.9-10.2-26.1-0.3-36.2l0.4-0.4 100-100.2-100-100.2c-10.1-9.9-10.3-26.1-0.4-36.2 9.9-10.1 26.1-10.3 36.2-0.4l0.4 0.4 100 100.2 100-100.2c10-10 26.2-10 36.2 0 10 10 10 26.2 0 36.2l-100 100.2 100.2 100.2c10 10 10 26.3-0.1 36.3-4.8 4.8-11.3 7.5-18.1 7.5z"
              p-id="1457"
              fill="currentColor"
            ></path>
          </svg>
        </div>
      </div>

      <!-- line 4 -->
      <div class="row row-2">
        <div class="btn btn-large btn-special btn-word" type="complete">补全</div>
        <div class="center">
          <!-- line 4-1  -->
          <div class="row">
            <div class="btn btn-mini" data-value="10">10</div>
            <div class="btn btn-mini" data-value="J">J</div>
            <div class="btn btn-mini" data-value="Q">Q</div>
            <div class="btn btn-mini" data-value="K">K</div>
          </div>

          <!-- line 4-2  -->
          <div class="row">
            <div class="btn btn-mini" data-value=">">&gt;</div>
            <div class="btn btn-mini" data-value="<">&lt;</div>
            <div class="btn btn-mini" data-value="-">-</div>
            <div class="btn btn-mini" data-value=",">,</div>
          </div>
        </div>

        <div class="btn btn-large btn-special btn-word" type="send">发送</div>
      </div>
    `,this.insert(),this.initEvent(),this.preventDoubleClickScale()}initEvent(){this.el.querySelectorAll(".btn").forEach(t=>{t.addEventListener("touchstart",()=>{t.classList.toggle("active")}),t.addEventListener("touchend",()=>{if(t.classList.toggle("active"),t.hasAttribute("data-value"))this.inputInstance.updateValue(this.inputInstance.getValue()+t.getAttribute("data-value")),this.inputInstance.dispatchEvent(new Event("input"));else{const s=t.getAttribute("type"),i={reset(){this.inputInstance.handleReset()},revocation(){this.inputInstance.handleRevocation()},backspace(){this.inputInstance.updateValue(this.inputInstance.getValue().slice(0,-1)),this.dispatchInputEvent()},complete(){this.dispatchKeydownEvent("ArrowUp")},send(){this.dispatchKeydownEvent("Enter")}};i[s]&&i[s].call(this)}})})}dispatchKeydownEvent(t){const s=new KeyboardEvent("keydown",{key:t,code:t});this.inputInstance.dispatchEvent(s)}dispatchInputEvent(){const t=new Event("input");this.inputInstance.dispatchEvent(t)}preventDoubleClickScale(){let t=Date.now();document.documentElement.addEventListener("touchend",s=>{const i=Date.now();i-t<=500&&s.preventDefault(),t=i},!1)}}const _=new M,j=new $,U=new D(_,j),W=new G(U);T()&&new X(W);
